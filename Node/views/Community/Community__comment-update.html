<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="/Community.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Community-comment-update</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="./Community-main.css" />
  </head>
  <body>
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200&display=swap"
      rel="stylesheet"
    />
    {% include "../nav.html" %}
    <input type="hidden" value="{{comment.post_id}}" class="board-id" />

    <table class="table table-hover" style="margin-top: 10vw; width: 80vw">
      
    </table>    
    
    <table class="table table-hover" style="margin-top: 5vw; width: 80vw">
      <table>        
          <tr>
            <th scope="col" style="width: 40vw; text-align: center">댓글</th>
            <th scope="col" style="width: 15vw">글쓴이</th>
            <th scope="col" style="width: 15vw">작성일</th>
            <th scope="col" style="width: 15vw">
              <button class="btn">댓글</button>
            </th>
          </tr>

          <form action="/Community/comment/update/{{comment.comment_id}}?_method=PUT" method="POST">
            <tr>
              <th><input type="text" style="width: 40vw;" name="inputContent"
                placeholder="댓글을 다시오."
                value="{{comment.content}}"></th>
              <th><input type="text" style="width: 15vw;" name="inputCommentWriter" value="{{comment.commenter}}" placeholder="who are U?"></th>
              <th><input type="text" style="width: 15vw;" name="" disabled>
                <input type="hidden" value="{{comment.post_id}}" name="inputPostId" class="comment-id" />
                <input type="hidden" value="{{user.id}}" class="user-id" />
                <input type="hidden" value="{{comment.commenter}}" class="commenter-id" /></th>
              <th>
                <input type="submit" class="save" value="저장"></input>
              </th>
            </tr>
          </form>
      </table>
    </div>

    <script>
      
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <script>
      window.onload = function () {
        const userId = document.querySelector(".user-id").value;
        const commenterId = document.querySelector(".commenter-id").value;
        const boardId = document.querySelector('.board-id').value;
        console.log(boardId);
        if (userId != commenterId) {
          alert("작성자와 일치하지 않습니다.");
          window.location.href = `/Community/${boardId}`;
        }
      };
    </script>
  </body>
</html>
